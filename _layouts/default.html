<!DOCTYPE html>
<html>
  <head>
    <title>{% if page.title %}{{ page.title }} â€“ {% endif %}{{ site.title }}</title>

    {% include head.html %}
  </head>

  <body>
    <script>
      (function() {
        const htmlElement = document.documentElement;
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
          if (savedTheme === 'dark') {
            htmlElement.classList.add('dark');
          } else {
            htmlElement.classList.remove('dark');
          }
        } else {
          // Check system preference if no saved theme
          if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            htmlElement.classList.add('dark');
          } else {
            htmlElement.classList.remove('dark');
          }
        }
      })();
    </script>

    <header class="site-header">
      <div class="wrapper">
        <a class="site-title" href="{{ "/" | relative_url }}">{{ site.title }}</a>
        <nav class="site-nav">
          <ul>
            <li><a href="{{ "/about/" | relative_url }}">About</a></li>
            <li><a href="{{ site.github.repository_url }}" target="_blank">GitHub</a></li>
          </ul>
        </nav>
        {% include dark_mode_toggle.html %} </div>
    </header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    <footer class="site-footer">
      <div class="wrapper">
        &copy; {{ site.time | date: "%Y" }} {{ site.title }}. All rights reserved.
      </div>
    </footer>
  </body>
</html>
